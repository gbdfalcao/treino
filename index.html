<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#232a59">
    <title>Treino Pro - Premium Edition</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap');
        
        :root {
            --bg-dark: #0a0e27;
            --bg-card: #1a1f3a;
            --accent-primary: #00f5ff;
            --accent-secondary: #7c3aed;
            --timer-glow: #10ff8e;
            --text-white: #ffffff;
            --side-gold: #fbbf24;
        }
        
        * { box-sizing: border-box; }
        
        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: linear-gradient(135deg, #0a0e27 0%, #1a1f3a 50%, #0f1629 100%);
            color: var(--text-white);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            text-align: center;
            position: relative;
        }
        
        body::before {
            content: '';
            position: absolute;
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(0,245,255,0.15) 0%, transparent 70%);
            top: -250px;
            right: -250px;
            animation: pulse 4s ease-in-out infinite;
        }
        
        body::after {
            content: '';
            position: absolute;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(124,58,237,0.15) 0%, transparent 70%);
            bottom: -200px;
            left: -200px;
            animation: pulse 5s ease-in-out infinite reverse;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.3; }
            50% { transform: scale(1.1); opacity: 0.5; }
        }
        
        #container { 
            width: 90%; 
            max-width: 480px; 
            z-index: 1; 
            pointer-events: none;
            background: rgba(26, 31, 58, 0.6);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 40px 30px;
            border: 1px solid rgba(0, 245, 255, 0.2);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), 
                        inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }
        
        h1 { 
            font-size: 0.85rem; 
            color: var(--accent-primary); 
            text-transform: uppercase; 
            letter-spacing: 3px; 
            margin: 0 0 15px 0; 
            font-weight: 600;
            text-shadow: 0 0 20px rgba(0, 245, 255, 0.5);
        }
        
        #lado-info { 
            font-size: 1.1rem; 
            color: var(--side-gold); 
            font-weight: 700; 
            height: 30px; 
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
            letter-spacing: 2px;
        }
        
        #exercicio-nome { 
            font-size: 2rem; 
            font-weight: 900; 
            margin: 15px 0; 
            min-height: 80px; 
            line-height: 1.2;
            background: linear-gradient(135deg, #ffffff 0%, var(--accent-primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        #meta { 
            font-size: 1.2rem; 
            margin-bottom: 25px; 
            font-weight: 500; 
            background: linear-gradient(135deg, rgba(0,245,255,0.1) 0%, rgba(124,58,237,0.1) 100%);
            padding: 15px 20px; 
            border-radius: 15px;
            border: 1px solid rgba(0, 245, 255, 0.3);
            letter-spacing: 0.5px;
        }
        
        #timer { 
            font-size: 5.5rem; 
            font-weight: 300; 
            font-family: 'Inter', monospace;
            margin: 20px 0; 
            color: var(--timer-glow); 
            text-shadow: 0 0 30px rgba(16, 255, 142, 0.6),
                         0 0 60px rgba(16, 255, 142, 0.3);
            letter-spacing: 5px;
        }
        
        #progresso { 
            font-size: 0.85rem; 
            margin-top: 20px; 
            opacity: 0.6; 
            letter-spacing: 2px;
            font-weight: 500;
        }
        
        #camada-toque { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 80%; 
            z-index: 5;
            cursor: pointer;
        }
        
        #btn-voltar {
            position: fixed; 
            bottom: 40px; 
            left: 50%; 
            transform: translateX(-50%);
            background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 100%);
            border: 2px solid var(--accent-primary); 
            color: white;
            padding: 16px 50px; 
            border-radius: 50px; 
            font-size: 1rem; 
            z-index: 10; 
            font-weight: 700;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4),
                        0 0 20px rgba(0, 245, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 1px;
        }
        
        #btn-voltar:hover {
            transform: translateX(-50%) translateY(-2px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5),
                        0 0 30px rgba(0, 245, 255, 0.5);
        }
        
        #btn-voltar:active {
            transform: translateX(-50%) translateY(0);
        }
        
        .instrucao { 
            font-size: 0.9rem; 
            color: var(--accent-primary); 
            margin-top: 20px; 
            font-weight: 600; 
            text-transform: uppercase;
            letter-spacing: 1.5px;
            opacity: 0.8;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        #container > * {
            animation: fadeIn 0.5s ease-out;
        }
    </style>
</head>
<body>

    <div id="camada-toque" onclick="gerenciarClique()"></div>

    <div id="container">
        <h1 id="status">Preparar</h1>
        <div id="lado-info"></div>
        <div id="exercicio-nome">Pronto?</div>
        <div id="meta">---</div>
        <div id="timer">00:00</div>
        <div id="msg-instrucao" class="instrucao">Toque para começar</div>
        <div id="progresso">0 / 26</div>
    </div>

    <button id="btn-voltar" onclick="voltar()">← VOLTAR</button>

    <script>
        // Dados extraídos do seu arquivo 
        const listaExercicios = [
            { n: "Corrida estacionária", m: "Aquecimento", t: 60, d: false },
            { n: "Polichinelo", m: "200 repetições", t: 0, d: false },
            { n: "Corrida estacionária", m: "60 segundos", t: 60, d: false },
            { n: "Isometria de quadríceps", m: "60 segundos", t: 60, d: false },
            { n: "Corrida estacionária", m: "60 segundos", t: 60, d: false },
            { n: "Prancha lateral", m: "2 minutos cada lado", t: 120, d: true },
            { n: "Corrida estacionária", m: "60 segundos", t: 60, d: false },
            { n: "Sugado (burpee)", m: "10 repetições", t: 0, d: false },
            { n: "Corrida estacionária", m: "60 segundos", t: 60, d: false },
            { n: "Abdominal remada", m: "20 repetições", t: 0, d: false },
            { n: "Corrida estacionária", m: "60 segundos", t: 60, d: false },
            { n: "Prancha lateral com abdominal", m: "30 repetições cada lado", t: 0, d: true },
            { n: "Corrida estacionária", m: "60 segundos", t: 60, d: false },
            { n: "Propriocepção", m: "60 segundos cada lado", t: 60, d: true },
            { n: "Corrida estacionária", m: "60 segundos", t: 60, d: false },
            { n: "Salto horizontal com flexão", m: "10 repetições", t: 0, d: false },
            { n: "Corrida estacionária", m: "60 segundos", t: 60, d: false },
            { n: "Prancha frontal", m: "2 minutos", t: 120, d: false },
            { n: "Corrida estacionária", m: "60 segundos", t: 60, d: false },
            { n: "Extensão lombar (superman)", m: "20 repetições", t: 0, d: false },
            { n: "Corrida estacionária", m: "60 segundos", t: 60, d: false },
            { n: "Afundo", m: "10 repetições cada lado", t: 0, d: true },
            { n: "Corrida estacionária", m: "60 segundos", t: 60, d: false },
            { n: "Flexão com elevação de pernas", m: "20 repetições", t: 0, d: false },
            { n: "Corrida estacionária", m: "60 segundos", t: 60, d: false },
            { n: "Aceleração máxima", m: "60 segundos", t: 60, d: false }
        ];

        let indice = -1;
        let tempoRestante = 0;
        let interval = null;
        let emExecucao = false;
        let ladoB = false;
        let aguardandoProximo = true;

        function gerenciarClique() {
            if (emExecucao) return;
            if (aguardandoProximo) {
                avancar();
            } else {
                iniciarTimer();
            }
        }

        function atualizarTela() {
            clearInterval(interval);
            emExecucao = false;
            
            const ex = listaExercicios[indice];
            document.getElementById('exercicio-nome').innerText = ex.n;
            document.getElementById('meta').innerText = ex.m;
            document.getElementById('progresso').innerText = `${indice + 1} / ${listaExercicios.length}`;
            
            if (ex.d) {
                document.getElementById('lado-info').innerText = ladoB ? "LADO B" : "LADO A";
            } else {
                document.getElementById('lado-info').innerText = "";
            }

            if (ex.t > 0) {
                tempoRestante = ex.t;
                atualizarRelogio(tempoRestante);
                document.getElementById('status').innerText = "PREPARAR TEMPO";
                document.getElementById('msg-instrucao').innerText = "Toque para iniciar";
                aguardandoProximo = false;
            } else {
                document.getElementById('timer').innerText = "GO!";
                document.getElementById('status').innerText = "EXECUTE AS REPS";
                document.getElementById('msg-instrucao').innerText = "Toque ao terminar";
                aguardandoProximo = !ex.d || (ex.d && ladoB);
                
                // Se for duplo de repetição e estiver no lado A, prepara para o lado B
                if (ex.d && !ladoB) aguardandoProximo = false;
            }
        }

        function avancar() {
            const exAtu = listaExercicios[indice];
            
            // Lógica para exercícios de repetição com dois lados (ex: Afundo)
            if (exAtu && exAtu.d && !ladoB && exAtu.t === 0) {
                ladoB = true;
                atualizarTela();
                return;
            }

            if (indice < listaExercicios.length - 1) {
                indice++;
                ladoB = false;
                atualizarTela();
            } else {
                finalizar();
            }
        }

        function voltar() {
            clearInterval(interval);
            if (ladoB) {
                ladoB = false;
            } else if (indice > 0) {
                indice--;
                ladoB = listaExercicios[indice].d;
            }
            atualizarTela();
        }

        function iniciarTimer() {
            emExecucao = true;
            document.getElementById('status').innerText = "EM AÇÃO!";
            document.getElementById('msg-instrucao').innerText = "Mantenha o foco";
            
            interval = setInterval(() => {
                tempoRestante--;
                if (tempoRestante <= 0) {
                    tempoRestante = 0;
                    finalizarPeriodo();
                }
                atualizarRelogio(tempoRestante);
            }, 1000);
        }

        function finalizarPeriodo() {
            clearInterval(interval);
            emExecucao = false;
            beep();
            
            const ex = listaExercicios[indice];
            if (ex.d && !ladoB) {
                ladoB = true;
                aguardandoProximo = false;
                document.getElementById('status').innerText = "TROQUE O LADO";
                document.getElementById('msg-instrucao').innerText = "Toque para LADO B";
                document.getElementById('lado-info').innerText = "LADO B";
                tempoRestante = ex.t;
                atualizarRelogio(tempoRestante);
            } else {
                aguardandoProximo = true;
                document.getElementById('status').innerText = "CONCLUÍDO";
                document.getElementById('msg-instrucao').innerText = "Toque para PRÓXIMO";
            }
        }

        function atualizarRelogio(seg) {
            const m = Math.floor(seg / 60);
            const s = seg % 60;
            document.getElementById('timer').innerText = `${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
        }

        function finalizar() {
            document.getElementById('exercicio-nome').innerText = "TREINO PAGO!";
            document.getElementById('meta').innerText = "Parabéns!";
            document.getElementById('timer').innerText = "FIM";
            document.getElementById('status').innerText = "OBJETIVO CONCLUÍDO";
            aguardandoProximo = true;
            indice = -1;
        }

        function beep() {
            try {
                const context = new (window.AudioContext || window.webkitAudioContext)();
                const osc = context.createOscillator();
                osc.connect(context.destination);
                osc.start();
                osc.stop(context.currentTime + 0.4);
            } catch(e) {}
        }
    </script>
</body>
</html>
